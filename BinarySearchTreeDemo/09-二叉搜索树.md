ğŸ¤”åœ¨nä¸ªåŠ¨æ€çš„æ•´æ•°ä¸­æœç´¢æŸä¸ªæ•´æ•°ï¼Ÿ(æŸ¥çœ‹å…¶æ˜¯å¦å­˜åœ¨)

å¦‚ä¸‹åˆ—æ•´æ•°

![1569497236143](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569497236143.png)

æ–¹æ³•ä¸€ï¼š

ä½¿ç”¨åŠ¨æ€æ•°ç»„å­˜æ”¾å…ƒç´ ï¼Œä»ç¬¬0ä¸ªä½ç½®å¼€å§‹éå†æœç´¢ï¼Œè¿™ç§æ–¹æ³•çš„å¹³å‡å¤æ‚åº¦ä¸ºO(n)

æ–¹æ³•äºŒï¼š

ç»´æŠ¤ä¸€ä¸ªæœ‰åºçš„åŠ¨æ€æ•°ç»„[ä¸‹å›¾]ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢ï¼Œæœ€åçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)

ä½†æ˜¯æ·»åŠ åˆ é™¤çš„å¹³å‡å¤æ‚åº¦ä¸ºO(n)

![1569497457199](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569497457199.png)

å› æ­¤ï¼Œé’ˆå¯¹è¿™ç§éœ€æ±‚ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ¡ˆå‘¢ï¼Ÿ

**ä½¿ç”¨äºŒå‰æœç´¢æ ‘ï¼Œæ·»åŠ ï¼Œåˆ é™¤ï¼Œæœç´¢çš„æœ€åæ—¶é—´å¤æ‚åº¦å‡å¯ä¼˜åŒ–åˆ°O(logn)**

- #### äºŒå‰æœç´¢æ ‘(Binary Search Tree)

> äºŒå‰æœç´¢æ ‘æ˜¯äºŒå‰æ ‘çš„ä¸€ç§ï¼Œæ˜¯åº”ç”¨éå¸¸å¹¿æ³›çš„ä¸€ç§äºŒå‰æ ‘ï¼Œè‹±æ–‡ç®€ç§°BST
>
> - åˆè¢«ç§°ä¸º:äºŒå‰æŸ¥æ‰¾æ ‘ï¼ŒäºŒå‰æ’åºæ ‘

å¦‚ä¸‹å°±æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘

![1569497896384](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569497896384.png)

ç‰¹ç‚¹ï¼š

- ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½**å¤§äº**å…¶**å·¦**å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼
- ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½**å°äº**å…¶**å³**å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼
- å®ƒçš„å·¦å³å­æ ‘ä¹Ÿæ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘

**äºŒå‰æœç´¢æ ‘å¯ä»¥å¤§å¤§æé«˜æœç´¢æ•°æ®çš„æ•ˆç‡**

**äºŒå‰æœç´¢æ ‘å­˜å‚¨çš„å…ƒç´ å¿…é¡»å…·å¤‡å¯æ¯”è¾ƒæ€§**,å¦‚intï¼Œdoubleç­‰ã€‚å¦‚æœæ¯”è¾ƒçš„æ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦æŒ‡å®šæ¯”è¾ƒçš„æ–¹å¼ã€‚ä¸å…è®¸å­˜å‚¨çš„å€¼ä¸ºnull

- #### äºŒå‰æœç´¢æ ‘çš„æ¥å£è®¾è®¡

å…ƒç´ çš„æ•°é‡

```java
int size();
```

æ˜¯å¦ä¸ºç©º

```java
boolean isEmpty();
```

æ¸…ç©ºæ‰€æœ‰å…ƒç´ 

```java
void clear();
```

æ·»åŠ å…ƒç´ 

```java
void add(E element);
```

åˆ é™¤å…ƒç´ 

```java
void remove(E element);
```

æ˜¯å¦åŒ…å«æŸå…ƒç´ 

```java
boolean contains(E element);
```

**éœ€è¦æ³¨æ„çš„æ˜¯**

å¯¹äºæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„äºŒå‰æ ‘æ¥è¯´ï¼Œå®ƒçš„å…ƒç´ æ˜¯æ²¡æœ‰ç´¢å¼•çš„æ¦‚å¿µçš„ï¼Œå› æ­¤ä¸è®¾è®¡

- #### æ·»åŠ èŠ‚ç‚¹

æ¯”å¦‚å¾€ä»¥ä¸‹äºŒå‰æ ‘ä¸­æ·»åŠ 12,1

![1569500936791](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569500936791.png)

æ·»åŠ 12åï¼ŒäºŒå‰æ ‘å˜ä¸º

![1569501321226](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569501321226.png)

æ·»åŠ 1åï¼ŒäºŒå‰æ ‘å˜ä¸º

![1569501443804](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569501443804.png)

æ·»åŠ æ­¥éª¤ï¼š

1.æ‰¾åˆ°çˆ¶èŠ‚ç‚¹parent

2.åˆ›å»ºæ–°èŠ‚ç‚¹node

3.parent.left = node æˆ–è€…parent.right = node

é‡åˆ°ç›¸ç­‰å€¼çš„å…ƒç´ è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ

1.å»ºè®®è¦†ç›–æ—§çš„å€¼

ä»£ç å¦‚ä¸‹ï¼š

```java
public void add(E element) {
        elementNotNullCheck(element);
        if (root == null) {
            //æ·»åŠ çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
            root = new Node<>(element,null);
            size++;
            return;
        }
        //æ·»åŠ çš„ä¸æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
        //æ‰¾åˆ°çˆ¶èŠ‚ç‚¹
        Node<E> node = root;
        Node<E> parent = root;
        int cmp = 0;
        while (node != null) {
            cmp = compare(element,node.element);
            parent = node;
            if (cmp > 0) {
                //å³èŠ‚ç‚¹
                node = node.right;
            } else if (cmp < 0) {
                //å·¦èŠ‚ç‚¹
                node = node.left;
            } else  {
                //ç›¸ç­‰
                return;
            }
        }
        //çœ‹çœ‹æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„é‚£ä¸ªä½ç½®
        Node<E> newNode = new Node(element,parent);
        if (cmp > 0) {
            //å³è¾¹
            parent.right = newNode;
        } else {
            parent.left = newNode;
        }
        size++;
    }
```

å¦‚æœæˆ‘ä»¬ç›´æ¥é€šè¿‡Integerç±»å‹æ¥è¿›è¡Œæ¯”è¾ƒçš„è¯ï¼Œæˆ‘ä»¬å½“ä¸­çš„å…ƒç´ ä¸º7,4,9,2,5,8,11,3,12,1æ—¶ï¼Œç„¶åé€šè¿‡å·¥å…·ï¼Œæ‰“å°å‡ºæ¥çš„ç»“æœä¸º[å…·ä½“å®ç°ï¼Œè¯·æŸ¥é˜…æºç ]

![1569506613143](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569506613143.png)

åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰çš„ç±»è¿›è¡Œæ‰“å°ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªPersonçš„ç±»ï¼Œå…¶ä¸­æ ¹æ®Personçš„ageå¤§å°è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—å‡ºä»¥ä¸‹æ¯”è¾ƒç»“æœ

![1569506580583](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1569506580583.png)

- #### åˆ é™¤èŠ‚ç‚¹

##### åˆ é™¤å¶å­èŠ‚ç‚¹

å‡è®¾ç°åœ¨æœ‰å¦‚ä¸‹çš„äºŒå‰æœç´¢æ ‘

![1570533480374](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570533480374.png)

å…¶ä¸­ï¼Œ3,5,8,10ä¸ºå¶å­èŠ‚ç‚¹

> ç›´æ¥åˆ é™¤

1.å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹ä¸ºå·¦èŠ‚ç‚¹ï¼Œå¦‚ä¸Šå›¾ä¸­çš„8,10ï¼Œå³node == node.parent.left,åˆ™æˆ‘ä»¬åªéœ€å°†è¯¥èŠ‚ç‚¹å¤åˆ¶ä¸ºnullå³å¯

node.parent.left = nullï¼Œæ„å‘³ç€è¿æ¥çˆ¶èŠ‚ç‚¹çš„çº¿æ¶ˆå¤±ï¼Œä¸‹å›¾

![1570533691050](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570533691050.png)

æœ€ç»ˆèŠ‚ç‚¹é”€æ¯

![1570533735957](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570533735957.png)

2.å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œå¦‚ä¸Šå›¾ä¸­çš„3,5ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†çˆ¶èŠ‚ç‚¹ä¸­çš„ä¸¤ä¸ªå³å­èŠ‚ç‚¹èµ‹å€¼ä¸ºç©ºå°±å¯ä»¥äº†ï¼Œå³node.parent.right = nullï¼Œåˆ é™¤åçš„ç»“æœä¸º

![1570533859750](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570533859750.png)

3.è¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œå³è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå…ƒç´ [ä¸‹å›¾]ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¯¥èŠ‚ç‚¹èµ‹å€¼ä¸ºç©ºå³å¯ï¼Œå³root = null

![1570533949893](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570533949893.png)

##### åˆ é™¤åº¦ä¸º1çš„èŠ‚ç‚¹

å‡è®¾ç°åœ¨æœ‰å¦‚ä¸‹ä¸¤æ£µäºŒå‰æ ‘

![1570534123447](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570534123447.png)

![1570534932807](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570534932807.png)

ç°éœ€è¦åˆ é™¤ä¸¤æ£µæ ‘ä¸­ï¼Œåº¦ä¸º1çš„èŠ‚ç‚¹ï¼Œå³å›¾ä¸€ä¸­çš„4,9ä¸å›¾äºŒä¸­çš„9

å¦‚æœéœ€è¦åˆ é™¤è¿™æ ·çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªéœ€å°†**å­èŠ‚ç‚¹æ›¿æ¢åŸèŠ‚ç‚¹**çš„ä½ç½®å³å¯ï¼Œå³

- childæ˜¯node.leftæˆ–è€…childæ˜¯node.right
- ç”¨childï¼ˆç”¨æ¥æ›¿ä»£çš„èŠ‚ç‚¹ï¼‰æ›¿æ¢nodeï¼ˆå°†è¢«åˆ é™¤çš„èŠ‚ç‚¹ï¼‰çš„ä½ç½®
- - å¦‚æœnodeæ˜¯å·¦å­èŠ‚ç‚¹
  - child.parent = node.parent
  - node.parent.left = child

å›¾ä¸€åˆ é™¤å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤º

![1570534628618](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570534628618.png)

- - å¦‚æœnodeæ˜¯å³å­èŠ‚ç‚¹
  - child.parent = node.parent
  - node.parent.right = child

å›¾ä¸€åˆ é™¤å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤º

![1570534835866](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570534835866.png)

- - å¦‚æœnodeæ˜¯è·ŸèŠ‚ç‚¹ï¼Œå¦‚ä¸Šå›¾äºŒ
  - root = child
  - child.parent = null

å›¾äºŒåˆ é™¤å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤º

![1570535005905](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570535005905.png)

##### åˆ é™¤åº¦ä¸º2çš„èŠ‚ç‚¹

ç°æœ‰å¦‚ä¸‹çš„äºŒå‰æœç´¢æ ‘ï¼Œä¸‹å›¾ä¸­çš„5,3,8ä¸ºåº¦ä¸º2çš„èŠ‚ç‚¹

![1570535239558](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570535239558.png)

å‡è®¾ç°åœ¨éœ€è¦å…ˆåˆ é™¤5ï¼Œå†åˆ é™¤4

ä½¿ç”¨**å‰é©±**æˆ–è€…**åç»§**èŠ‚ç‚¹çš„å€¼æ¥**è¦†ç›–**åŸèŠ‚ç‚¹çš„å€¼ã€‚ä¿®æ”¹å®Œæˆåç»“æœä¸º

![1570536014213](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570536014213.png)

ç„¶å**åˆ é™¤**ç›¸åº”çš„**å‰é©±**æˆ–è€…**åç»§**èŠ‚ç‚¹

![1570536097794](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570536097794.png)

ç°åœ¨æˆåŠŸåˆ é™¤5,ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œåˆ é™¤4å³å¯

> è§„å¾‹
>
> å¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„åº¦ä¸º2ï¼Œé‚£ä¹ˆ
>
> å®ƒçš„**å‰é©±**ï¼Œ**åç»§**èŠ‚ç‚¹çš„åº¦åªå¯èƒ½ä¸º1æˆ–è€…0ï¼Œå› æ­¤åœ¨åˆ é™¤åº¦ä¸º2çš„èŠ‚ç‚¹æ—¶ï¼ŒçœŸæ­£è¢«åˆ é™¤çš„æ˜¯åº¦ä¸º1æˆ–è€…0çš„èŠ‚ç‚¹

å› æ­¤äºŒå‰æœç´¢æ ‘çš„åˆ é™¤ï¼Œå¯é€šè¿‡ä»¥ä¸‹ä»£ç å®ç°

```java
public void remove(E element) {
    remove(node(element));
}

private void remove(Node<E> node) {
    if (node == null) return;
    size--;
    //åº¦ä¸º2çš„æƒ…å†µ
    if (node.hasTwoChildren()) {
        //æ‰¾åˆ°åç»§èŠ‚ç‚¹
        Node<E> s = successor(node);
        //ç”¨åç»§èŠ‚ç‚¹çš„å€¼ï¼Œè¦†ç›–åº¦ä¸º2çš„èŠ‚ç‚¹çš„å€¼
        node.element = s.element;
        //åˆ é™¤åç»§èŠ‚ç‚¹
        node = s;
    }
    //åˆ é™¤nodeèŠ‚ç‚¹(nodeçš„åº¦å¿…ç„¶ä½1æˆ–è€…0)
    Node<E> replacement = node.left != null ? node.left : node.right;
    if (replacement != null) {
        //nodeæ˜¯åº¦ä¸º1çš„èŠ‚ç‚¹
        //æ›´æ”¹parent
        replacement.parent = node.parent;
        //æ›´æ”¹parentçš„leftï¼Œrightçš„æŒ‡å‘
        if (node.parent == null) {
            //nodeæ˜¯åº¦ä¸º1çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ˜¯æ ¹èŠ‚ç‚¹
            root = replacement;
        }else if (node == node.parent.left) {
            node.parent.left = replacement;
        } else {
            node.parent.right = replacement;
        }
    } else if (node == root){
        //nodeæ˜¯å¶å­èŠ‚ç‚¹.å¹¶ä¸”æ˜¯æ ¹èŠ‚ç‚¹
        root = null;
    } else {
        //nodeæ˜¯å¶å­èŠ‚ç‚¹ï¼Œä½†ä¸æ˜¯æ ¹èŠ‚ç‚¹
        if (node == node.parent.right) {
            node.parent.right = null;
        } else {//node == node.parent.left
            node.parent.left = null;
        }
    }
}

private Node<E> node(E element) {
    Node<E> node = root;
    while (node != null) {
        int cmp = compare(element,node.element);
        if (cmp == 0) return node;
        if (cmp > 0) {
            node = node.right;
        } else  {
            node = node.left;
        }
    }
    return null;
}
```

- #### ä»£ç é‡æ„

##### ç®€å•çš„ç»§æ‰¿ç»“æ„

![1570539425483](https://github.com/MSTGit/Algorithm/blob/master/BinarySearchTreeDemo/Resource/1570539425483.png)

é‡æ„ä»£ç è¯·å‚ç…§demoä»£ç ä¸­Refactoræ–‡ä»¶å¤¹ä¸­çš„ç±»